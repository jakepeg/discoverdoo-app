{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { getActivityById, deleteActivity } from '../../../actions';\nimport Link from 'next/link';\nimport auth0 from '../../../services/auth0';\n\nvar DetailPage = function DetailPage(props) {\n  var router = useRouter();\n  var id = router.query.id;\n  var activity = props.activity;\n\n  var handleDelete = function handleDelete(id) {\n    deleteActivity(id).then(function () {\n      router.push('/my-activities');\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"contain top-space\"\n  }, __jsx(\"div\", {\n    className: \"details-card\"\n  }, __jsx(\"div\", {\n    className: \"card-header\"\n  }, __jsx(\"a\", {\n    href: \"/\",\n    id: \"back-btn\"\n  }, __jsx(\"img\", {\n    id: \"arrow-left\",\n    src: \"/arrow-left.svg\",\n    alt: \"Go Back\"\n  }), __jsx(\"span\", {\n    className: \"back\"\n  }, \"BACK\"))), __jsx(\"div\", {\n    className: \"card-content\"\n  }, __jsx(\"div\", {\n    className: \"info-section\"\n  }, __jsx(\"h1\", null, activity.name), __jsx(\"p\", {\n    className: \"description\"\n  }, activity.description), activity.ageFrom.length > 0 && __jsx(\"span\", null, __jsx(\"p\", {\n    className: \"info\"\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/child.svg\",\n    alt: \"Child icon\"\n  }), \"Ages \", activity.ageFrom, \" - \", activity.ageTo)), __jsx(\"p\", {\n    className: \"info\"\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/tags.svg\",\n    alt: \"Tags icon\"\n  }), activity.category), activity.price.length > 0 && __jsx(\"span\", null, __jsx(\"p\", {\n    className: \"info\"\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/piggy.svg\",\n    alt: \"Right arrow\"\n  }), activity.price)), activity.website.length > 0 && __jsx(\"span\", null, __jsx(\"p\", {\n    className: \"info\"\n  }, __jsx(\"a\", {\n    href: 'http://' + activity.website,\n    target: \"_blank\"\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/right-arrow.svg\",\n    alt: \"Right arrow\"\n  }), \"Website\")))), __jsx(\"img\", {\n    className: \"image-section\",\n    src: activity.image,\n    alt: activity.name\n  })), auth0.isAuthenticated() && __jsx(React.Fragment, null, __jsx(\"button\", {\n    className: \"delete-button\",\n    onClick: function onClick() {\n      return handleDelete(activity._id);\n    },\n    href: \"#\",\n    role: \"button\"\n  }, \"Delete\"), __jsx(Link, {\n    href: \"/activities/[id]/edit\",\n    as: \"/activities/\".concat(id, \"/edit\")\n  }, __jsx(\"button\", {\n    className: \"edit-button\",\n    role: \"button\"\n  }, \"Edit\")))));\n};\n\nDetailPage.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var query, activity;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            _context.next = 3;\n            return getActivityById(query.id);\n\n          case 3:\n            activity = _context.sent;\n            return _context.abrupt(\"return\", {\n              activity: activity\n            });\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default DetailPage;","map":null,"metadata":{},"sourceType":"module"}