{"ast":null,"code":"var _jsxFileName = \"/Users/Dev/Documents/discoverdoo-app/pages/activity/[id]/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport { getActivityById, deleteActivity, getActivities } from '../../../actions';\nimport Link from 'next/link';\nimport Head from 'next/head';\nimport auth0 from '../../../services/auth0';\nimport ActivityList from '../../../components/activityList';\n\nconst DetailPage = props => {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  const {\n    activity\n  } = props;\n\n  const handleDelete = id => {\n    deleteActivity(id).then(() => {\n      router.push('/my-activities');\n    });\n  }; // const filteredActivities = () => {\n  //   return props.activities.filter(() => {\n  //     return props.activities.category.includes(filter)\n  //   })\n  // }\n\n\n  const filteredActivities = props.activities.filter(a => a.category === 'Arty');\n  return __jsx(React.Fragment, null, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, `${activity.name} - DiscoverDoo`), __jsx(\"meta\", {\n    name: \"title\",\n    content: `${activity.name} - DiscoverDoo fun finder`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  })), __jsx(\"div\", {\n    className: \"contain top-space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"details-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, activity.name), __jsx(\"a\", {\n    className: \"back-link\",\n    id: \"back-btn\",\n    onClick: () => router.back(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    id: \"arrow-left\",\n    src: \"/arrow-left.svg\",\n    alt: \"Go Back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }), __jsx(\"span\", {\n    className: \"back\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, \"BACK\"))), __jsx(\"div\", {\n    className: \"card-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"info-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    className: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, activity.description), activity.ageFrom.length > 0 && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/child.svg\",\n    alt: \"Child icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }\n  }), \"Ages \", activity.ageFrom, \" - \", activity.ageTo)), __jsx(\"p\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/tags.svg\",\n    alt: \"Tags icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }), activity.category), activity.price.length > 0 && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/piggy.svg\",\n    alt: \"Piggybank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 19\n    }\n  }), activity.price)), activity.website.length > 0 && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    href: 'http://' + activity.website,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, __jsx(\"img\", {\n    className: \"map-icon\",\n    align: \"top\",\n    src: \"/eye.svg\",\n    alt: \"Eye\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }), activity.medium)))), __jsx(\"img\", {\n    className: \"image-section\",\n    src: `https://res.cloudinary.com/jakepeg/image/upload/f_auto/v1593005651/${activity.image}`,\n    alt: activity.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  })), auth0.isAuthenticated() && __jsx(React.Fragment, null, __jsx(\"button\", {\n    className: \"delete-button\",\n    onClick: () => handleDelete(activity._id),\n    href: \"#\",\n    role: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Delete\"), __jsx(Link, {\n    href: \"/activity/[id]/edit\",\n    as: `/activity/${id}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    className: \"edit-button\",\n    role: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"Edit\"))))), __jsx(\"div\", {\n    className: \"contain top-space\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, __jsx(ActivityList, {\n    activities: filteredActivities,\n    title: \"Similar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport async function getServerSideProps({\n  query\n}) {\n  // const activity = await getActivityById(query.id)\n  let [activity, activities] = await Promise.all([await getActivityById(query.id), getActivities()]);\n  return {\n    props: {\n      activity,\n      activities\n    }\n  };\n}\nexport default DetailPage;","map":{"version":3,"sources":["/Users/Dev/Documents/discoverdoo-app/pages/activity/[id]/index.js"],"names":["useRouter","getActivityById","deleteActivity","getActivities","Link","Head","auth0","ActivityList","DetailPage","props","router","id","query","activity","handleDelete","then","push","filteredActivities","activities","filter","a","category","name","back","description","ageFrom","length","ageTo","price","website","medium","image","isAuthenticated","_id","getServerSideProps","Promise","all"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\nimport { getActivityById, deleteActivity, getActivities } from '../../../actions'\nimport Link from 'next/link'\nimport Head from 'next/head'\nimport auth0 from '../../../services/auth0'\nimport ActivityList from '../../../components/activityList'\n\nconst DetailPage = (props) => {\n  const router = useRouter()\n  const { id } = router.query\n  const { activity } = props\n  const handleDelete = (id) => {\n    deleteActivity(id).then(() => {\n      router.push('/my-activities')\n    })\n  }\n\n  // const filteredActivities = () => {\n  //   return props.activities.filter(() => {\n  //     return props.activities.category.includes(filter)\n  //   })\n  // }\n\n  const filteredActivities = props.activities.filter(a=>a.category==='Arty')\n\n  return (\n    <>\n      <Head>\n        <title>{`${activity.name} - DiscoverDoo`}</title>\n        <meta name=\"title\" content={`${activity.name} - DiscoverDoo fun finder`} />\n      </Head>\n      <div className=\"contain top-space\">\n        <div className=\"details-card\">\n          <div className=\"card-header\">\n          <h1>{activity.name}</h1>\n            <a className=\"back-link\" id=\"back-btn\" onClick={() => router.back()}>\n              <img id=\"arrow-left\" src=\"/arrow-left.svg\" alt=\"Go Back\" /> \n              <span className=\"back\">BACK</span>\n            </a>\n          </div>\n          <div className=\"card-content\">\n            <div className=\"info-section\">\n              <p className=\"description\">{ activity.description }</p>\n              {activity.ageFrom.length > 0 &&\n                <span>\n                  <p className=\"info\">\n                  <img className=\"map-icon\" align=\"top\" src=\"/child.svg\" alt=\"Child icon\" />\n                  Ages { activity.ageFrom } - { activity.ageTo }\n                  </p>\n                </span>\n              }\n              <p className=\"info\">\n              <img className=\"map-icon\" align=\"top\" src=\"/tags.svg\" alt=\"Tags icon\" />\n              { activity.category }\n              </p>\n              {activity.price.length > 0 &&\n                <span>\n                  <p className=\"info\">\n                  <img className=\"map-icon\" align=\"top\" src=\"/piggy.svg\" alt=\"Piggybank\" />\n                  { activity.price }\n                  </p>\n                </span>\n              }\n              {/* <p className=\"info\">\n              <img className=\"map-icon\" src=\"/share.svg\" alt=\"Share\" />\n              Share with friends\n              </p>\n\n              <p className=\"info\">\n              <img className=\"map-icon\" src=\"/favorite.svg\" alt=\"Add to favorites\" />\n              Add to favorites\n              </p> */}\n\n              {activity.website.length > 0 &&\n                <span>\n                  <p className=\"info\">\n                  <a href={'http://' + activity.website} target=\"_blank\">\n                  <img className=\"map-icon\" align=\"top\" src=\"/eye.svg\" alt=\"Eye\" />\n                  { activity.medium }\n                  </a></p>\n                </span>\n              }\n            </div>\n            <img className=\"image-section\" src={`https://res.cloudinary.com/jakepeg/image/upload/f_auto/v1593005651/${activity.image}`} alt={activity.name} />\n          </div>\n          {/* {activity.userId === Cookies.get('sub') && */}\n          { auth0.isAuthenticated() &&\n              <>\n                <button className=\"delete-button\" onClick={() => handleDelete(activity._id)} href=\"#\" role=\"button\">Delete</button>\n                <Link href=\"/activity/[id]/edit\" as={`/activity/${id}/edit`}>\n                  <button className=\"edit-button\" role=\"button\">Edit</button>\n                </Link>\n              </>\n            }\n        </div>\n      </div>\n      <div className=\"contain top-space\">\n        <ActivityList \n          activities={filteredActivities} \n          title=\"Similar\"  \n        />\n      </div>\n    </>\n  )\n}\n\nexport async function getServerSideProps({ query }) {\n  // const activity = await getActivityById(query.id)\n  let [activity, activities] = await Promise.all([await getActivityById(query.id), getActivities()]);\n  return {\n    props: {activity, activities}\n  }\n}\n\nexport default DetailPage"]},"metadata":{},"sourceType":"module"}